
on_actions = {
	on_weekly_DSC = {
		effect = {
			if = {
				limit = { has_global_flag = Ccw }
				every_controlled_state = { 
						limit = {
							NOT = { has_dynamic_modifier = { modifier = CW_ruins } }
							NOT = { is_owned_by = ROOT }
							is_core_of = CHI
						}
				add_dynamic_modifier = { modifier = CW_ruins }	
					}
				every_owned_state = {
					limit = {
						NOT = { has_dynamic_modifier = { modifier = CW_ruins } }
						NOT = { is_controlled_by = ROOT }
						is_core_of = CHI
					}
				add_dynamic_modifier = { modifier = CW_ruins }	
					}
				}
			}
		}
	on_weekly_HKG = {
		effect = {
			if = {
				limit = { has_global_flag = Ccw }
				every_controlled_state = { 
						limit = {
							NOT = { has_dynamic_modifier = { modifier = CW_ruins } }
							NOT = { is_owned_by = ROOT }
							is_core_of = CHI
						}
					add_dynamic_modifier = { modifier = CW_ruins }	
					}
				every_owned_state = {
					limit = {
						NOT = { has_dynamic_modifier = { modifier = CW_ruins } }
						NOT = { is_controlled_by = ROOT }
						is_core_of = CHI
					}
				add_dynamic_modifier = { modifier = CW_ruins }	
					}
				}
			}
		}
	on_weekly_CHI = {
		effect = {
			if = {
				limit = { has_global_flag = Ccw }
				every_controlled_state = {
						limit = {
							NOT = { has_dynamic_modifier = { modifier = CW_ruins } }
							NOT = { is_owned_by = ROOT }
							is_core_of = CHI
							}
					add_dynamic_modifier = { modifier = CW_ruins }	
					}
				every_owned_state = {
					limit = {
						NOT = { has_dynamic_modifier = { modifier = CW_ruins } }
						NOT = { is_controlled_by = ROOT }
						is_core_of = CHI
					}
				add_dynamic_modifier = { modifier = CW_ruins }	
					}
				}
			}
		}

#添加工业损伤修正
	on_weekly_DSC = {
		effect = {

				limit = { has_global_flag = Ccw }
				every_controlled_state = { 
					limit = {
						is_core_of = CHI
						has_dynamic_modifier = { modifier = CW_ruins } 
							} 
						add_to_array = {
							array = global.ruined_state
						}
						CHI_ruin_industry_add = yes
					}
				clear_array = global.ruined_state
		}
	}
	on_weekly_HKG = {
		effect = {
				limit = { has_global_flag = Ccw }
				every_controlled_state = { 
					limit = {
						is_core_of = CHI
						has_dynamic_modifier = { modifier = CW_ruins } 
							} 
						add_to_array = {
							array = global.ruined_state
						}
						CHI_ruin_industry_add = yes
					}
				clear_array = global.ruined_state
			}
		}
	on_weekly_CHI = {
		effect = {
		every_country = {
			limit = { original_tag = CHI }
			every_controlled_state = { 
				limit = {
					is_core_of = CHI
					has_dynamic_modifier = { modifier = CW_ruins } 
						} 
					add_to_array = {
						array = global.ruined_state
					}
					CHI_ruin_industry_add = yes
				}
			clear_array = global.ruined_state
			}
		}
	}
	
#添加农业损伤修正
	on_weekly_DSC = {
		effect = {
				limit = { has_global_flag = Ccw }
				every_controlled_state = { 
					limit = {
						is_agriculture_state = yes
						has_dynamic_modifier = { modifier = CW_ruins } 
							} 
						add_to_array = {
							array = global.ruined_agriculture_state
						}
						CHI_ruin_agriculture_add = yes
					}
				clear_array = global.ruined_agriculture_state
			}
		}
	on_weekly_HKG = {
		effect = {
				limit = { has_global_flag = Ccw }
				every_controlled_state = { 
					limit = {
						is_agriculture_state = yes
						has_dynamic_modifier = { modifier = CW_ruins } 
							} 
						add_to_array = {
							array = global.ruined_agriculture_state
						}
						CHI_ruin_agriculture_add = yes
					}
				clear_array = global.ruined_agriculture_state
			}
		}
	on_weekly_CHI = {
		effect = {
			every_country = {
				limit = { original_tag = CHI }
				every_controlled_state = { 
					limit = {
						is_agriculture_state = yes
						has_dynamic_modifier = { modifier = CW_ruins } 
							} 
						add_to_array = {
							array = global.ruined_agriculture_state
						}
						CHI_ruin_agriculture_add = yes
					}
				clear_array = global.ruined_agriculture_state
			}

		}
	}
}